(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{109:function(e,t,n){},226:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(13),l=n.n(o),i=n(33),s=n(86),c=n(34),u=n(35),m=n(37),d=n(36),b=n(38),f=(n(109),n(93)),p=n(18),h=n(40),k=n(3),v=n(90),g=n.n(v),B=n(10),y=n(91),w=n(92),E=n.n(w),O=n(61),j="paragraph",N={blocks:{image:{isVoid:!0}}},C=n(94),x=n(22),S=n(23);function D(){var e=Object(x.a)(["\ndisplay: block;\nmax-width: 100%;\nmax-height: 20em;\nbox-shadow: ",";\n"]);return D=function(){return e},e}function M(){var e=Object(x.a)(["\n  position: relative;\n  padding: 10px 18px;\n  margin: 0px -15px;\n  margin-bottom: 20px;\n  background-color: #3C4858;\n  border-radius: 0.25rem !important;\n"]);return M=function(){return e},e}function L(){var e=Object(x.a)(["\n  & > * {\n    display: inline-block;\n  }\n\n  & > * + * {\n    margin-left: 15px;\n  }\n"]);return L=function(){return e},e}function P(){var e=Object(x.a)(["\n  font-size: 18px;\n  vertical-align: text-bottom;\n"]);return P=function(){return e},e}function I(){var e=Object(x.a)(["\n  cursor: pointer;\n  color: ",";\n"]);return I=function(){return e},e}var J=Object(S.a)("span")(I(),function(e){return e.reversed?e.active?"white":"#0078FF":e.active?"#00E89D":"white"}),U=Object(S.a)(function(e){var t=e.className,n=Object(C.a)(e,["className"]);return r.a.createElement("span",Object.assign({className:"material-icons ".concat(t)},n))})(P()),q=Object(S.a)("div")(L()),F=Object(S.a)(q)(M()),H=Object(S.a)("img")(D(),function(e){return e.selected?"0 0 0 2px blue;":"none"}),T=Object(B.isKeyHotkey)("mod+b"),K=Object(B.isKeyHotkey)("mod+i"),z=Object(B.isKeyHotkey)("mod+u"),R=Object(B.isKeyHotkey)("mod+`"),W=Object(B.isKeyHotkey)("tab"),G=Object(B.isKeyHotkey)("shift+tab"),V=function(e){return!!y.find(e.endsWith)},$=function(e,t,n){n&&e.select(n),e.insertBlock({type:"image",data:{src:t}})},Q=JSON.parse(localStorage.getItem("data")),X=k.m.fromJSON(Q||O),Y=localStorage.getItem("nodeLimit"),Z=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(n=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={value:X,openSettingsMenu:!1,nodeLimit:Y||0,saveButtonDisabled:!1,alert:null,imageUrl:null},n.hasMark=function(e){return n.state.value.activeMarks.some(function(t){return t.type===e})},n.hasBlock=function(e){return n.state.value.blocks.some(function(t){return t.type===e})},n.ref=function(e){n.editor=e},n.renderMarkButton=function(e,t){var a=n.hasMark(e);return r.a.createElement(J,{active:a,onMouseDown:function(t){return n.onClickMark(t,e)}},r.a.createElement(U,null,t))},n.renderBlockButton=function(e,t){var a=n.hasBlock(e);if(["numbered-list","bulleted-list"].includes(e)){var o=n.state.value,l=o.document,i=o.blocks;if(i.size>0){var s=l.getParent(i.first().key);a=n.hasBlock("list-item")&&s&&s.type===e}}return["imageBrowser"].includes(e)?r.a.createElement("div",{className:"upload-btn-wrapper"},r.a.createElement(J,{active:a},r.a.createElement(U,null,t),r.a.createElement("input",{type:"file",id:"input-button",onChange:function(t){return n.onClickBlock(t,e)}}))):r.a.createElement(J,{active:a,onMouseDown:function(t){return n.onClickBlock(t,e)}},r.a.createElement(U,null,t))},n.renderNode=function(e,t,n){var a=e.attributes,o=e.children,l=e.node,i=e.isFocused;switch(l.type){case"block-quote":return r.a.createElement("blockquote",a,o);case"bulleted-list":return r.a.createElement("ul",a,o);case"heading-one":return r.a.createElement("h1",a,o);case"heading-two":return r.a.createElement("h2",a,o);case"list-item":return r.a.createElement("li",a,o);case"numbered-list":return r.a.createElement("ol",a,o);case"image":var s=l.data.get("src");return r.a.createElement(H,Object.assign({src:s,selected:i},a));default:return n()}},n.renderMark=function(e,t,n){var a=e.children,o=e.mark,l=e.attributes;switch(o.type){case"bold":return r.a.createElement("strong",l,a);case"code":return r.a.createElement("code",l,a);case"italic":return r.a.createElement("em",l,a);case"underlined":return r.a.createElement("u",l,a);default:return n()}},n.onChange=function(e){var t=e.value,a=n.state.nodeLimit;n.setState({saveButtonDisabled:!!(0!==parseInt(a,10)&&n.blockCounter()>parseInt(a,10)),value:t})},n.onKeyDown=function(e,t,a){var r,o=t.value,l=o.document,i=o.blocks.first(),s=i?l.getParent(i.key):null;if(W(e)){var c=l.getPreviousSibling(i.key),u=s.type?s.type:"bulleted-list";if(r=u,!c)return e.preventDefault(),a();if(l.getDepth(i.key)>3)return e.preventDefault(),a();s&&t.setBlocks("list-item").wrapBlock(u)}else if(G(e)){r=s.type?s.type:"bulleted-list";var m=i&&l.getDepth(i.key),d=!1;if(o.blocks.map(function(e){var t=l.getDepth(e.key);return d=!(m===t),!0}),d)return a();if(s&&"undefined"===typeof s.type)return t.setBlocks(j).unwrapBlock("bulleted-list").unwrapBlock("numbered-list"),a();n.hasBlock("list-item")&&i&&("numbered-list"===s.type||"bulleted-list"===s.type)?t.setBlocks("list-item").unwrapBlock("bulleted-list").unwrapBlock("numbered-list"):t.setBlocks(j).unwrapBlock("bulleted-list").unwrapBlock("numbered-list")}else if(T(e))r="bold";else if(K(e))r="italic";else if(z(e))r="underlined";else{if(!R(e))return a();r="code"}e.preventDefault(),t.toggleMark(r)},n.onClickMark=function(e,t){e.preventDefault(),n.editor.toggleMark(t)},n.getImageUrlPrompt=function(){var e=function(){n.setState({alert:null})};n.setState({alert:r.a.createElement(g.a,{input:!0,showCancel:!0,cancelBtnBsStyle:"default",confirmBtnBsStyle:"success",title:"Pleae enter image url",placeHolder:"Enter image url",onConfirm:function(t){n.setState({imageUrl:t}),e()},onCancel:function(){return e()}},"\xa0")})},n.onClickBlock=function(e,t){e.preventDefault();var a,r=Object(p.a)(Object(p.a)(n)).editor,o=r.value,l=o.document,i=n.props.alert;if(["image"].includes(t)&&n.getImageUrlPrompt(),["imageBrowser"].includes(t)){(a=e.currentTarget.files[0],new Promise(function(e,t){var n=new FileReader;"image/jpeg"===a.type?(n.readAsDataURL(a),n.onload=function(){return e(n.result)},n.onerror=function(e){return t(e)}):i.error("Only JPEG file")})).then(function(e){r.command($,e)})}if("bulleted-list"!==t&&"numbered-list"!==t){var s=n.hasBlock(t);n.hasBlock("list-item")?r.setBlocks(s?j:t).unwrapBlock("bulleted-list").unwrapBlock("numbered-list"):r.setBlocks(s?j:t)}else{var c=n.hasBlock("list-item"),u=o.blocks.some(function(e){return!!l.getClosest(e.key,function(e){return e.type===t})});c&&u?r.setBlocks(j).unwrapBlock("bulleted-list").unwrapBlock("numbered-list"):c?r.unwrapBlock("bulleted-list"===t?"numbered-list":"bulleted-list").wrapBlock(t):r.setBlocks("list-item").wrapBlock(t)}},n.openSettingsTrigger=function(){n.setState(function(e){return{openSettingsMenu:!e.openSettingsMenu}})},n.setNodeLimit=function(e){e.preventDefault();var t=e.target.value;n.setState({nodeLimit:t,saveButtonDisabled:!!(0!==parseInt(t,10)&&n.blockCounter()>parseInt(t,10))})},n.saveNodeLimit=function(){var e=n.state.nodeLimit;localStorage.setItem("nodeLimit",e)},n.blockCounter=function(){return Object(p.a)(Object(p.a)(n)).editor.value.document.getBlocks().size},n.onDropOrPaste=function(e,t,n){var a=Object(h.b)(e,t);if(!a&&"drop"===e.type)return n();var r=Object(h.c)(e),o=r.type,l=r.text,i=r.files;if("files"!==o){if("text"===o)return E()(l)&&V(l)?void t.command($,l,a):n();n()}else{var s=!0,c=!1,u=void 0;try{for(var m,d=function(){var e=m.value,n=new FileReader,r=e.type.split("/");if("image"!==Object(f.a)(r,1)[0])return"continue";n.addEventListener("load",function(){t.command($,n.result,a)}),n.readAsDataURL(e)},b=i[Symbol.iterator]();!(s=(m=b.next()).done);s=!0)d()}catch(p){c=!0,u=p}finally{try{s||null==b.return||b.return()}finally{if(c)throw u}}}},n.saveData=function(){var e=n.state.value,t=JSON.stringify(e.toJSON());localStorage.setItem("data",t)},n.cancelChanges=function(){var e=JSON.parse(localStorage.getItem("data")),t=k.m.fromJSON(e||O);n.setState({value:t})},n}return Object(b.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this.state.nodeLimit;this.setState({saveButtonDisabled:!!(0!==parseInt(e,10)&&this.blockCounter()>parseInt(e,10))})}},{key:"componentDidUpdate",value:function(e,t){var n=this.state.imageUrl;if(t.imageUrl!==n){if(!n)return;this.editor.command($,n)}}},{key:"render",value:function(){var e=this.state,t=e.value,n=e.openSettingsMenu,a=e.nodeLimit,o=e.saveButtonDisabled,l=e.alert;return r.a.createElement("div",null,r.a.createElement(F,null,this.renderMarkButton("bold","format_bold"),this.renderMarkButton("italic","format_italic"),this.renderMarkButton("underlined","format_underlined"),this.renderMarkButton("code","code"),this.renderBlockButton("heading-one","looks_one"),this.renderBlockButton("heading-two","looks_two"),this.renderBlockButton("block-quote","format_quote"),this.renderBlockButton("numbered-list","format_list_numbered"),this.renderBlockButton("bulleted-list","format_list_bulleted"),this.renderBlockButton("image","image"),this.renderBlockButton("imageBrowser","cloud_upload"),r.a.createElement("div",{className:"float-right"},r.a.createElement("div",{className:"dropdown"},r.a.createElement("button",{onClick:this.openSettingsTrigger,className:"btn btn-sm",type:"button"},r.a.createElement(U,{className:"text-success"},"settings")),r.a.createElement("div",{className:"dropdown-menu dropdown-menu-right ".concat(n?"d-block":"d-none")},r.a.createElement("div",{className:"dropdown-item px-3"},r.a.createElement("div",{className:"form-group mb-2"},r.a.createElement("label",{className:"small text-muted mb-0",htmlFor:"lineLimit"},"Node limit (Keep 0 if there is no limit)",r.a.createElement("input",{type:"number",value:a,name:"lineLimit",onChange:this.setNodeLimit,className:"form-control mt-2",id:"lineLimit",placeholder:"Enter number"})))),r.a.createElement("div",{className:"dropdown-item px-3"},r.a.createElement("button",{onClick:this.saveNodeLimit,type:"button",className:"btn btn-sm btn-success float-right ml-2"},"Save"),r.a.createElement("button",{onClick:this.openSettingsTrigger,type:"button",className:"btn btn-sm btn-light float-right"},"Close")))))),r.a.createElement(h.a,{spellCheck:!0,autoFocus:!0,placeholder:"Enter some rich text...",ref:this.ref,value:t,onChange:this.onChange,onKeyDown:this.onKeyDown,renderNode:this.renderNode,renderMark:this.renderMark,schema:N,onDrop:this.onDropOrPaste,onPaste:this.onDropOrPaste}),r.a.createElement("hr",null),r.a.createElement("button",{onClick:this.saveData,disabled:"".concat(o?"disabled":""),type:"button",className:"btn btn-success float-right ml-2"},"Save"),r.a.createElement("button",{onClick:this.cancelChanges,type:"button",className:"btn btn-danger float-right"},"Cancel"),l)}}]),t}(a.Component),A=Object(i.b)(Z),_=function(){return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-dark"},r.a.createElement("div",{className:"mx-auto"},r.a.createElement("div",{className:"navbar-brand mx-auto text-success text-center"},r.a.createElement("p",{className:"h5 font-weight-light"},"Twisker - Slate Demo "),r.a.createElement("p",{className:"small mb-0 font-weight-light"},"Created By",r.a.createElement("b",null,"Monzoor")))))},ee=function(e){function t(){return Object(c.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(_,null),r.a.createElement("div",{className:"container pt-5"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-8 mx-auto border rounded pb-3"},r.a.createElement(A,null)))))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(i.a,Object.assign({template:s.a},{position:"top center",timeout:5e3,offset:"30px",transition:"scale"}),r.a.createElement(ee,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},61:function(e){e.exports={document:{nodes:[{object:"block",type:"paragraph",nodes:[{object:"text",leaves:[{text:"This is editable "},{text:"rich",marks:[{type:"bold"}]},{text:" text, "},{text:"much",marks:[{type:"italic"}]},{text:" better than a "},{text:"<textarea>",marks:[{type:"code"}]},{text:"!"}]}]},{object:"block",type:"paragraph",nodes:[{object:"text",leaves:[{text:"Since it's rich text, you can do things like turn a selection of text "},{text:"bold",marks:[{type:"bold"}]},{text:", or add a semantically rendered block quote in the middle of the page, like this:"}]}]},{object:"block",type:"block-quote",nodes:[{object:"text",leaves:[{text:"A wise quote."}]}]},{object:"block",type:"paragraph",nodes:[{object:"text",leaves:[{text:"Try it out for yourself!"}]}]}]}}},95:function(e,t,n){e.exports=n(226)}},[[95,2,1]]]);
//# sourceMappingURL=main.0be6c7a8.chunk.js.map